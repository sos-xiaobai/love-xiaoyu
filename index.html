<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>小鱼同学</title>
    <meta name="language" content="zh-CN">
    <meta name="title" content="小鱼同学">
    <meta name="github" content="">
    <meta name="describe" content=" ">
    <link rel="icon" type="image/x-icon" href="https://cdn.jsdelivr.net/gh/sun0225SUN/photos/img/20210715233345.png">
    <link rel="stylesheet" href="css/love.css">
</head>

<body>

    <audio autoplay="autopaly" loop="loop" id="audios" preload="auto">
        <source src="MP3/1.mp3" />
    </audio>

    <div class="container" onselectstart="return false;" unselectable="on" style="-moz-user-select:none;">

        <div class="body_left">
            <img src="images/biubiubiu.gif" alt="" ondragstart='return false;'>
        </div>

        <div class="body_center love">
            <div class="block">
                <div class="div1"></div>
                <div class="div2"></div>
                <div class="div3"></div>
                <div class="div4"></div>
            </div>
        </div>
    </div>

    <div class="top-image">
        <img src="images/主动爱心贴贴.gif" alt="">
    </div>

    <div class="footer">
        <div class="border">
            <div class="border-top"></div>
            <div class="border-bottom"></div>
        </div>
    </div>

    <!-- 右下角打字机文字 -->
    <div id="typing-container">
        <p id="typing-text"></p>
        <div id="button-container" style="display: none; margin-top: 15px; text-align: center;">
            <button id="yes-btn" style="margin: 0 10px; padding: 8px 20px; font-size: 16px; background-color: #ff69b4; color: white; border: none; border-radius: 5px; cursor: pointer;">愿意</button>
            <button id="no-btn" style="margin: 0 10px; padding: 8px 20px; font-size: 16px; background-color: #999; color: white; border: none; border-radius: 5px; cursor: pointer;">不愿意</button>
        </div>
        <p id="message-text" style="display: none; font-size: 18px; color: #ff69b4; font-weight: bold; margin-top: 15px;">师兄和小鱼在一起的</p>
        <p id="timer-text" style="display: none; font-size: 50px; color: #ff69b4; font-weight: bold; margin-top: 10px;"></p>
    </div>

    <script type="text/javascript" src="js/love.js"></script>
    <script>
        // 打字机效果 - 参考 typewriter 插件
        const text = "小鱼\n你是我的星辰大海\n你愿意做我的唯一吗？";
        const typingElement = document.getElementById("typing-text");
        const buttonContainer = document.getElementById("button-container");
        const messageText = document.getElementById("message-text");
        const timerText = document.getElementById("timer-text");
        const yesBtn = document.getElementById("yes-btn");
        const noBtn = document.getElementById("no-btn");
        let typingIndex = 0;
        let startTime = null;
        let timerInterval = null;

        function typeText() {
            if (typingIndex < text.length) {
                let char = text[typingIndex];
                if (char === '\n') {
                    typingElement.innerHTML += '<br>';
                } else {
                    typingElement.innerHTML += char;
                }
                typingIndex++;
                setTimeout(typeText, 100);
            } else {
                // 打字完成后显示按钮
                buttonContainer.style.display = 'block';
            }
        }

        function formatTime(ms) {
            const totalSeconds = Math.floor(ms / 1000);
            const days = Math.floor(totalSeconds / 86400);
            const hours = Math.floor((totalSeconds % 86400) / 3600);
            const minutes = Math.floor((totalSeconds % 3600) / 60);
            const seconds = totalSeconds % 60;
            return `${days}天${hours}小时${minutes}分钟${seconds}秒`;
        }

        function startTimer() {
            startTime = Date.now();
            timerInterval = setInterval(() => {
                const elapsed = Date.now() - startTime;
                timerText.textContent = formatTime(elapsed);
            }, 1000);
        }

        // 愿意按钮
        yesBtn.addEventListener('click', function() {
            typingElement.style.display = 'none';
            buttonContainer.style.display = 'none';
            document.getElementById('message-text').style.display = 'block'; // 显示文字
            timerText.style.display = 'block';
            startTimer();
        });

        // 不愿意按钮
        noBtn.addEventListener('click', function() {
            alert('那我就一直等你！');
            // 可选：重置或其他操作
        });

        // 延迟24秒后开始打字
        setTimeout(typeText, 24000);
    </script>

</body>
</html>
